@model IEnumerable<SearchPeople.Models.Person>

@{
    ViewBag.Title = "Index";

}
<link rel="stylesheet" href="~/Content/myCSS.css" />
<div id="my-jumbotron"class="jumbotron">
    <h1>Search all the people!</h1>
    <p class="lead"></p>
    <p></p>
</div>
<h2 id="clickme">Index</h2>
<script src="~/Scripts/jquery-3.1.1.min.js"></script>
<form>
    <input type="text" id="searchInput" />
    <button id="searchButton">Search</button>
</form>

<script>
    $('#searchButton').click(function (event) {
        event.preventDefault();
            $.ajax({
                url: '@Url.Action("SearchResult", "Person")',
                data: { format: JSON, q: $('#searchInput').val() },
                type: 'GET',
                success: function (data) {
                    var output = $('#myDiv');
                    output.empty();
                    for (var i = 0; i < data.length; i++) {
                        var person = data[i];
                        output.append("<tr><td>" + person.ID + "</td><td>" +
                            person.lastName + "</td><td>" + person.firstName + "</td><td>" + person.age +
                            "</td><td>" + person.address + "</td><td>" + person.interests + "</td><td>" + person.profilePicture + "</td></tr>");
                    }
                }
            });
        });
</script>
<div>
    <table style="width: 100%">
        <thead>
            <tr>
                <th>ID</th>
                <th>Last Name</th>
                <th>First Name</th>
                <th>Age</th>
                <th>Address</th>
                <th>Interests</th>
                <th>Profile Picture</th>
            </tr>
        </thead>
        <tbody id="myDiv">
            <!--Search results go here-->
        </tbody>
    </table>
</div>
@**
**************** Uncomment to check the test data ************************
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.lastName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.firstName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.age)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.address)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.interests)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.profilePicture)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.lastName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.firstName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.age)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.address)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.interests)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.profilePicture)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.ID }) |
            @Html.ActionLink("Details", "Details", new { id=item.ID }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.ID })
        </td>
    </tr>
}

</table>*@
